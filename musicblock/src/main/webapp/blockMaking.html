<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />


    <!-- jQuery CDN -->
    <link rel="stylesheet" href="https://code.jquery.com/ui/1.11.4/themes/smoothness/jquery-ui.css">
    <script src="https://code.jquery.com/jquery-2.2.2.js"></script>
    <script src="https://code.jquery.com/ui/1.11.4/jquery-ui.js"></script>
    <!-- <link rel="stylesheet" href="/resources/demos/style.css"> -->

    <!-- touchpunch -->
    <script src="javascript/jquery.ui.touch-punch.js"></script>

    <!-- 부트스트랩 CDN -->
    <!-- 합쳐지고 최소화된 최신 CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css">
    <!-- 부가적인 테마 -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap-theme.min.css">
    <!-- 합쳐지고 최소화된 최신 자바스크립트 -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/js/bootstrap.min.js"></script>
    
    <style>
        #block-time-length-container {
            position:relative;
            top:50%;
            left:17%;
            width: 170px;
            height: 3%;
            background-color: white;
            -webkit-transform: skew(-15deg);
            border-radius:2px;
        }
        
        #block-time-length-controlbar {
            position:absolute;
            top:-900%;
            width: 25%;
            height: 1800%;
            /*background-color: #66ee55;*/
            background-color: #66ee55;
            border-radius:2px;
            opacity:0.9;
        }
    </style>

</head>

<body>

    <!-- 공통모듈 : 메뉴바(css) -->
    <link rel="stylesheet" href="/css/common/commonMenu.css">
    <!-- 블럭만들기(css) -->
    <link rel="stylesheet" href="/css/blockMaking/blockMaking.css">
    <!-- 볼륨조절(css) -->
    <link rel="stylesheet" href="/css/blockMaking/volume.css">
    
    <!-- 블럭만들기(js) -->
    <script src="javascript/blockMaking/blockMaking.js"></script>

    <!--사운드 매니저(사운드 관련 전역함수, 전역변수)-->
    <script src="javascript/blockMaking/soundManager.js"></script>
    <!-- 피아노(개별음) 플레이 -->
    <script src="javascript/blockMaking/piano.js"></script>
    <!-- 블럭(음 집합) 플레이 -->
    <script src="javascript/blockMaking/blockPlay.js"></script>
    <!--공통모듈 : 메뉴바-->
    <script src="/javascript/common/commonMenu.js"></script>
	<!-- 블럭 볼륨 조절 -->
	<script src="/javascript/blockMaking/volume.js"></script>

    <script>
		//블럭 길이 조절
        $(function () {
            var blockLengthController = '<div id="block-time-length-container"><div id="block-time-length-controlbar"></div></div>';
            
            $(".COMMON-MENUBAR-ROW").append(blockLengthController);
            
            $("#block-time-length-controlbar").draggable({
                containment: "parent"
                , axis: "x"
            });
            
            $("#block-time-length-controlbar").bind("dragstop", function (event) {
                var clickedX = event.pageX; //클릭한 곳의 x좌표
                var timeControlContainerWidth = $("#block-time-length-container").width();
                
                var timeDragbarXStart = $("#block-time-length-controlbar").position().left; //현재 클릭한 엘리먼트(볼륨조절 컨테이너)가 시작하는 곳의 x좌표
                var timeDragbarXEnd = $("#block-time-length-controlbar").position().left + $("#block-time-length-controlbar").width(); //현재 클릭한 엘리먼트(볼륨조절 컨테이너)가 끝나는 곳의 x좌표
                var timeDragbarCenter = (timeDragbarXEnd - timeDragbarXStart)/2;
                
                var timeDragbarCenterPositionX = timeDragbarXStart + timeDragbarCenter;
                
                if(timeDragbarCenterPositionX >= 0 && timeDragbarCenterPositionX < timeControlContainerWidth/4){
                    $("#block-time-length-controlbar").css("left", (timeControlContainerWidth/4)*0);
                }else if(timeDragbarCenterPositionX >= timeControlContainerWidth/4 && timeDragbarCenterPositionX < (timeControlContainerWidth/4)*2){
                    $("#block-time-length-controlbar").css("left", (timeControlContainerWidth/4)*1);
                }else if(timeDragbarCenterPositionX >= (timeControlContainerWidth/4)*2 && timeDragbarCenterPositionX < (timeControlContainerWidth/4)*3){
                    $("#block-time-length-controlbar").css("left", (timeControlContainerWidth/4)*2);
                }else if(timeDragbarCenterPositionX >= (timeControlContainerWidth/4)*3 && timeDragbarCenterPositionX < (timeControlContainerWidth/4)*4){
                    $("#block-time-length-controlbar").css("left", (timeControlContainerWidth/4)*3);
                }
            });
        });
    </script>
    <div id="background">
        <!-- 메뉴바 -->

        <!-- 표시바 -->
        <div id="display-container">
            <div id="syllable-container">
            </div>
            <div id="control-container">
                <div id="play">
                    <center>
                        <h4>play</h4>
                        <span class="glyphicon glyphicon-play"></span>
                    </center>
                </div>
                <div id="cancel">
                    <center>
                        <h4>cancel</h4>
                        <span class="glyphicon glyphicon-arrow-left"></span>
                    </center>
                </div>
                <div id="clear">
                    <center>
                        <h4>clear</h4>
                        <span class="glyphicon glyphicon-remove"></span>
                    </center>
                </div>
                <div id="next">
                    <center style="vertical-align:middle;">
                        <h4>next</h4>
                        <span class="glyphicon glyphicon-hand-right"></span>
                    </center>
                </div>
            </div>
        </div>
        <!-- 건반바 -->

        <div id="key-container">
            <div id="key-space-container">
                <div id="space-key">
                    <span class="glyphicon glyphicon-leaf" id="space-key-icon"></span>
                </div>
            </div>
            <div id="key-clickable-container">
                <div class="white-key key well-sm"></div>
                <div class="black-key key" style="left:9.8%;">
                </div>
                <div class="white-key key well-sm"></div>
                <div class="black-key key" style="left:24%;">
                </div>
                <div class="white-key key well-sm"></div>
                <div class="white-key key well-sm"></div>
                <div class="black-key key" style="left:52.2%;">
                </div>
                <div class="white-key key well-sm"></div>
                <div class="black-key key" style="left:66.4%;">
                </div>
                <div class="white-key key well-sm"></div>
                <div class="black-key key" style="left:80.6%;">
                </div>
                <div class="white-key key well-sm"></div>
                <!-- 검은색 건반 -->
                <div id="key-clickable-black-container">





                </div>
            </div>
            <div id="octave-display-container">
                <div class="octave-display">
                </div>
                <div class="octave-display">
                </div>
                <div class="octave-display" id="octave-display-on">
                    <span class="glyphicon glyphicon-music"></span>
                </div>
                <div class="octave-display">
                </div>
            </div>
        </div>
    </div>
    <!--<div class="menu-off" id="menu-list"><font color="white">메뉴1<br>메뉴2<br>메뉴3<br>메뉴4<br></font></div>-->
</body>

</html>