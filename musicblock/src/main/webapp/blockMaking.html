<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />


    <!-- jQuery CDN -->
    <link rel="stylesheet" href="https://code.jquery.com/ui/1.11.4/themes/smoothness/jquery-ui.css">
    <script src="https://code.jquery.com/jquery-2.2.2.js"></script>
    <script src="https://code.jquery.com/ui/1.11.4/jquery-ui.js"></script>
    <!-- <link rel="stylesheet" href="/resources/demos/style.css"> -->

    <!-- touchpunch -->
    <script src="javascript/jquery.ui.touch-punch.js"></script>

    <!-- 부트스트랩 CDN -->
    <!-- 합쳐지고 최소화된 최신 CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css">
    <!-- 부가적인 테마 -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap-theme.min.css">
    <!-- 합쳐지고 최소화된 최신 자바스크립트 -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/js/bootstrap.min.js"></script>


</head>

<body>

    <!-- 공통모듈 : 메뉴바(css) -->
    <link rel="stylesheet" href="/css/common/commonMenu.css">
    <!-- 블럭만들기(css) -->
    <link rel="stylesheet" href="/css/blockMaking/blockMaking.css">

    <!-- 블럭만들기(js) -->
    <script src="javascript/blockMaking/blockMaking.js"></script>

    <!--사운드 매니저(사운드 관련 전역함수, 전역변수)-->
    <script src="javascript/blockMaking/soundManager.js"></script>
    <!-- 피아노(개별음) 플레이 -->
    <script src="javascript/blockMaking/piano.js"></script>
    <!-- 블럭(음 집합) 플레이 -->
    <script src="javascript/blockMaking/blockPlay.js"></script>
    <!--공통모듈 : 메뉴바-->
    <script src="/javascript/common/commonMenu.js"></script>

    <style>
        /*블럭 길이 조절 스타일*/
        
        #vol-container {
            position: absolute;
            width: 180px;
            height: 20px;
            top: 30%;
            left: 60%;
            background-color: transparent;
        }
        
        #triangleBar {
            top: 5px;
            height: 10px;
            left: 0px;
            position: absolute;
            border-top: 10px solid transparent;
            border-right: 180px solid white;
            border-bottom: 0px solid transparent;
            outline: 1px solid transparent;
        }
        
        #vol-draggable {
            width: 20px;
            height: 100%;
            background-color: red;
            border-radius: 3px;
            opacity: 0.8;
        }
    </style>
    <script>
        //블럭 볼륨 조절(컨테이너)
        var volumeController = "<div id='vol-container'></div>";
        $(".COMMON-MENUBAR-ROW").append(volumeController);
        //블럭 볼륨 조절(삼각바)
        var triangleBar = "<div id='triangleBar'></div>";
        $("#vol-container").append(triangleBar);

        //블럭 볼륨 조절(드래그바)
        var dragBar = "<div id='vol-draggable'></div>";
        $("#vol-container").append(dragBar);
        $("#vol-draggable").draggable({
            containment: "parent"
            , axis: "x"
        });
        
        //블럭 볼륨 조절 - 클릭 이벤트
        $("#vol-container").bind("click", function (event) {
            var clickedX = event.clientX; //클릭한 곳의 x좌표
            var containerX = $("#vol-container").offset().left; //현재 클릭한 엘리먼트(볼륨조절 컨테이너)가 시작하는 곳의 x좌표
            
            var volumeOffSet = clickedX - containerX;
            //alert(volumeOffSet);//볼륨값 0~180
            volumeSaver = volumeOffSet/160 * 6;
            //alert(volumeSaver);
            
            //volume dragbar 이동
            $("#vol-draggable").css("left", (volumeOffSet-10) + "px");
            
            console.log("volume : " + volumeSaver);
        });
        
        $("#vol-draggable").css("left", volumeSaver*30 + "px");

        //블럭 볼륨 조절
        //to do
    </script>
    <div id="background">
        <!-- 메뉴바 -->

        <!-- 표시바 -->
        <div id="display-container">
            <div id="syllable-container">
            </div>
            <div id="control-container">
                <div id="play">
                    <center>
                        <h4>play</h4>
                        <span class="glyphicon glyphicon-play"></span>
                    </center>
                </div>
                <div id="cancel">
                    <center>
                        <h4>cancel</h4>
                        <span class="glyphicon glyphicon-arrow-left"></span>
                    </center>
                </div>
                <div id="clear">
                    <center>
                        <h4>clear</h4>
                        <span class="glyphicon glyphicon-remove"></span>
                    </center>
                </div>
                <div id="next">
                    <center style="vertical-align:middle;">
                        <h4>next</h4>
                        <span class="glyphicon glyphicon-hand-right"></span>
                    </center>
                </div>
            </div>
        </div>
        <!-- 건반바 -->


        <div id="key-container">
            <div id="key-space-container">
                <div id="space-key">
                    <span class="glyphicon glyphicon-leaf" id="space-key-icon"></span>
                </div>
            </div>
            <div id="key-clickable-container">
                <div class="white-key key well-sm"></div>
                <div class="black-key key" style="left:9.8%;">
                </div>
                <div class="white-key key well-sm"></div>
                <div class="black-key key" style="left:24%;">
                </div>
                <div class="white-key key well-sm"></div>
                <div class="white-key key well-sm"></div>
                <div class="black-key key" style="left:52.2%;">
                </div>
                <div class="white-key key well-sm"></div>
                <div class="black-key key" style="left:66.4%;">
                </div>
                <div class="white-key key well-sm"></div>
                <div class="black-key key" style="left:80.6%;">
                </div>
                <div class="white-key key well-sm"></div>
                <!-- 검은색 건반 -->
                <div id="key-clickable-black-container">





                </div>
            </div>
            <div id="octave-display-container">
                <div class="octave-display">
                </div>
                <div class="octave-display">
                </div>
                <div class="octave-display" id="octave-display-on">
                    <span class="glyphicon glyphicon-music"></span>
                </div>
                <div class="octave-display">
                </div>
            </div>
        </div>
    </div>
    <!--<div class="menu-off" id="menu-list"><font color="white">메뉴1<br>메뉴2<br>메뉴3<br>메뉴4<br></font></div>-->
</body>

</html>