/* ORDER */
DROP TABLE TABLE 
	CASCADE CONSTRAINTS;

/* PRODUCT */
DROP TABLE Temporary 
	CASCADE CONSTRAINTS;

/* 사진 */
DROP TABLE Temporary3 
	CASCADE CONSTRAINTS;

/* 제조사 */
DROP TABLE Temporary6 
	CASCADE CONSTRAINTS;

/* 고객 */
DROP TABLE Temporary7 
	CASCADE CONSTRAINTS;

/* 우편 */
DROP TABLE Temporary8 
	CASCADE CONSTRAINTS;

/* Block */
DROP TABLE BLOCK 
	CASCADE CONSTRAINTS;

/* Music */
DROP TABLE MUSIC 
	CASCADE CONSTRAINTS;

/* User */
DROP TABLE USER 
	CASCADE CONSTRAINTS;

/* 해시태그 */
DROP TABLE BLOCK_HASH 
	CASCADE CONSTRAINTS;

/* 음악해시태그 */
DROP TABLE MUSIC_HASH 
	CASCADE CONSTRAINTS;

/* ORDER */
CREATE TABLE TABLE (
	COL18 <지정 되지 않음> NOT NULL, /* 주문일련번호 */
	COL <지정 되지 않음> NOT NULL, /* 제품일련번호 */
	COL3 <지정 되지 않음> NOT NULL, /* 고객번호 */
	COL17 <지정 되지 않음> NOT NULL, /* 수량 */
	COL2 <지정 되지 않음> NOT NULL /* 주문일 */
);

COMMENT ON TABLE TABLE IS 'ORDER';

COMMENT ON COLUMN TABLE.COL18 IS '주문일련번호';

COMMENT ON COLUMN TABLE.COL IS '제품일련번호';

COMMENT ON COLUMN TABLE.COL3 IS '고객번호';

COMMENT ON COLUMN TABLE.COL17 IS '수량';

COMMENT ON COLUMN TABLE.COL2 IS '주문일';

CREATE UNIQUE INDEX PK_TABLE
	ON TABLE (
		COL18 ASC
	);

ALTER TABLE TABLE
	ADD
		CONSTRAINT PK_TABLE
		PRIMARY KEY (
			COL18
		);

/* PRODUCT */
CREATE TABLE Temporary (
	COL8 <지정 되지 않음> NOT NULL, /* 제품일련번호 */
	COL <지정 되지 않음> NOT NULL, /* 제품명 */
	COL2 <지정 되지 않음> NOT NULL, /* 잔여갯수 */
	COL3 <지정 되지 않음> NOT NULL, /* 설명 */
	COL7 <지정 되지 않음> NOT NULL, /* 가격 */
	COL4 <지정 되지 않음> /* 사업자번호 */
);

COMMENT ON TABLE Temporary IS 'PRODUCT';

COMMENT ON COLUMN Temporary.COL8 IS '제품일련번호';

COMMENT ON COLUMN Temporary.COL IS '제품명';

COMMENT ON COLUMN Temporary.COL2 IS '잔여갯수';

COMMENT ON COLUMN Temporary.COL3 IS '설명';

COMMENT ON COLUMN Temporary.COL7 IS '가격';

COMMENT ON COLUMN Temporary.COL4 IS '사업자번호';

CREATE UNIQUE INDEX PK_Temporary
	ON Temporary (
		COL8 ASC
	);

CREATE INDEX IX_Temporary
	ON Temporary (
		COL ASC
	);

ALTER TABLE Temporary
	ADD
		CONSTRAINT PK_Temporary
		PRIMARY KEY (
			COL8
		);

/* 사진 */
CREATE TABLE Temporary3 (
	COL <지정 되지 않음> NOT NULL, /* 사진일련번호 */
	COL6 <지정 되지 않음> NOT NULL, /* 제품사진 */
	COL8 <지정 되지 않음> NOT NULL /* 제품일련번호 */
);

COMMENT ON TABLE Temporary3 IS '사진';

COMMENT ON COLUMN Temporary3.COL IS '사진일련번호';

COMMENT ON COLUMN Temporary3.COL6 IS '제품사진';

COMMENT ON COLUMN Temporary3.COL8 IS '제품일련번호';

CREATE UNIQUE INDEX PK_Temporary3
	ON Temporary3 (
		COL ASC
	);

ALTER TABLE Temporary3
	ADD
		CONSTRAINT PK_Temporary3
		PRIMARY KEY (
			COL
		);

/* 제조사 */
CREATE TABLE Temporary6 (
	COL <지정 되지 않음> NOT NULL, /* 사업자번호 */
	COL8 <지정 되지 않음> NOT NULL, /* 제조사 */
	COL9 <지정 되지 않음> NOT NULL, /* 전화 */
	COL10 <지정 되지 않음>, /* 팩스 */
	COL11 <지정 되지 않음> /* 홈페이지 */
);

COMMENT ON TABLE Temporary6 IS '제조사';

COMMENT ON COLUMN Temporary6.COL IS '사업자번호';

COMMENT ON COLUMN Temporary6.COL8 IS '제조사';

COMMENT ON COLUMN Temporary6.COL9 IS '전화';

COMMENT ON COLUMN Temporary6.COL10 IS '팩스';

COMMENT ON COLUMN Temporary6.COL11 IS '홈페이지';

CREATE UNIQUE INDEX PK_Temporary6
	ON Temporary6 (
		COL ASC
	);

CREATE INDEX IX_Temporary6
	ON Temporary6 (
		COL8 ASC
	);

ALTER TABLE Temporary6
	ADD
		CONSTRAINT PK_Temporary6
		PRIMARY KEY (
			COL
		);

/* 고객 */
CREATE TABLE Temporary7 (
	COL <지정 되지 않음> NOT NULL, /* 고객번호 */
	COL12 <지정 되지 않음> NOT NULL, /* 이름 */
	COL13 <지정 되지 않음> NOT NULL, /* 전화 */
	COL16 <지정 되지 않음>, /* 상세주소 */
	COL3 <지정 되지 않음>, /* 우편일련번호 */
	COL2 <지정 되지 않음> NOT NULL /* 이메일 */
);

COMMENT ON TABLE Temporary7 IS '고객';

COMMENT ON COLUMN Temporary7.COL IS '고객번호';

COMMENT ON COLUMN Temporary7.COL12 IS '이름';

COMMENT ON COLUMN Temporary7.COL13 IS '전화';

COMMENT ON COLUMN Temporary7.COL16 IS '상세주소';

COMMENT ON COLUMN Temporary7.COL3 IS '우편일련번호';

COMMENT ON COLUMN Temporary7.COL2 IS '이메일';

CREATE UNIQUE INDEX PK_Temporary7
	ON Temporary7 (
		COL ASC
	);

CREATE INDEX IX_Temporary7
	ON Temporary7 (
		COL12 ASC
	);

ALTER TABLE Temporary7
	ADD
		CONSTRAINT PK_Temporary7
		PRIMARY KEY (
			COL
		);

/* 우편 */
CREATE TABLE Temporary8 (
	COL <지정 되지 않음> NOT NULL, /* 우편일련번호 */
	COL14 <지정 되지 않음> NOT NULL, /* 우편번호 */
	COL15 <지정 되지 않음> NOT NULL /* 기본주소 */
);

COMMENT ON TABLE Temporary8 IS '우편';

COMMENT ON COLUMN Temporary8.COL IS '우편일련번호';

COMMENT ON COLUMN Temporary8.COL14 IS '우편번호';

COMMENT ON COLUMN Temporary8.COL15 IS '기본주소';

CREATE UNIQUE INDEX PK_Temporary8
	ON Temporary8 (
		COL ASC
	);

ALTER TABLE Temporary8
	ADD
		CONSTRAINT PK_Temporary8
		PRIMARY KEY (
			COL
		);

/* Block */
CREATE TABLE BLOCK (
	BCODE INTEGER NOT NULL, /* BlockCode */
	UCODE INTEGER NOT NULL, /* UserCode */
	NOTE VARCHAR(4000) NOT NULL, /* 음표 */
	EMOTION INTEGER NOT NULL, /* Emotion */
	PCOUNT INTEGER NOT NULL, /* PlayCount */
	DCOUNT INTEGER NOT NULL /* DownCount */
);

COMMENT ON TABLE BLOCK IS 'Block';

COMMENT ON COLUMN BLOCK.BCODE IS 'BlockCode';

COMMENT ON COLUMN BLOCK.UCODE IS 'UserCode';

COMMENT ON COLUMN BLOCK.NOTE IS '음표';

COMMENT ON COLUMN BLOCK.EMOTION IS 'Emotion';

COMMENT ON COLUMN BLOCK.PCOUNT IS 'PlayCount';

COMMENT ON COLUMN BLOCK.DCOUNT IS 'DownCount';

CREATE UNIQUE INDEX PK_BLOCK
	ON BLOCK (
		BCODE ASC
	);

ALTER TABLE BLOCK
	ADD
		CONSTRAINT PK_BLOCK
		PRIMARY KEY (
			BCODE
		);

/* Music */
CREATE TABLE MUSIC (
	MCODE INTEGER NOT NULL, /* MusicCode */
	UCODE INTEGER NOT NULL, /* UserCode */
	CMPT VARCHAR(255) NOT NULL, /* 가진음표 */
	EMOTION INTEGER NOT NULL, /* Emotion */
	PCOUNT INTEGER NOT NULL, /* PlayCount */
	DCOUNT INTEGER NOT NULL /* DownCount */
);

COMMENT ON TABLE MUSIC IS 'Music';

COMMENT ON COLUMN MUSIC.MCODE IS 'MusicCode';

COMMENT ON COLUMN MUSIC.UCODE IS 'UserCode';

COMMENT ON COLUMN MUSIC.CMPT IS '가진음표';

COMMENT ON COLUMN MUSIC.EMOTION IS 'Emotion';

COMMENT ON COLUMN MUSIC.PCOUNT IS 'PlayCount';

COMMENT ON COLUMN MUSIC.DCOUNT IS 'DownCount';

CREATE UNIQUE INDEX PK_MUSIC
	ON MUSIC (
		MCODE ASC
	);

ALTER TABLE MUSIC
	ADD
		CONSTRAINT PK_MUSIC
		PRIMARY KEY (
			MCODE
		);

/* User */
CREATE TABLE USER (
	UCODE INTEGER NOT NULL, /* UserCode */
	NICK VARCHAR(20) NOT NULL /* Nickname */
);

COMMENT ON TABLE USER IS 'User';

COMMENT ON COLUMN USER.UCODE IS 'UserCode';

COMMENT ON COLUMN USER.NICK IS 'Nickname';

CREATE UNIQUE INDEX PK_USER
	ON USER (
		UCODE ASC
	);

CREATE UNIQUE INDEX UIX_USER
	ON USER (
		NICK ASC
	);

ALTER TABLE USER
	ADD
		CONSTRAINT PK_USER
		PRIMARY KEY (
			UCODE
		);

ALTER TABLE USER
	ADD
		CONSTRAINT UK_USER
		UNIQUE (
			NICK
		);

/* 해시태그 */
CREATE TABLE BLOCK_HASH (
	HCODE INTEGER NOT NULL, /* 해시태그번호 */
	BCODE INTEGER NOT NULL, /* BlockCode */
	TAG VARCHAR(20) NOT NULL /* HashTag */
);

COMMENT ON TABLE BLOCK_HASH IS '해시태그';

COMMENT ON COLUMN BLOCK_HASH.HCODE IS '해시태그번호';

COMMENT ON COLUMN BLOCK_HASH.BCODE IS 'BlockCode';

COMMENT ON COLUMN BLOCK_HASH.TAG IS 'HashTag';

CREATE UNIQUE INDEX PK_BLOCK_HASH
	ON BLOCK_HASH (
		HCODE ASC
	);

ALTER TABLE BLOCK_HASH
	ADD
		CONSTRAINT PK_BLOCK_HASH
		PRIMARY KEY (
			HCODE
		);

/* 음악해시태그 */
CREATE TABLE MUSIC_HASH (
	HCODE INTEGER NOT NULL, /* 해시태그번호 */
	MCODE INTEGER NOT NULL, /* MusicCode */
	TAG VARCHAR(20) NOT NULL /* HashTag */
);

COMMENT ON TABLE MUSIC_HASH IS '음악해시태그';

COMMENT ON COLUMN MUSIC_HASH.HCODE IS '해시태그번호';

COMMENT ON COLUMN MUSIC_HASH.MCODE IS 'MusicCode';

COMMENT ON COLUMN MUSIC_HASH.TAG IS 'HashTag';

CREATE UNIQUE INDEX PK_MUSIC_HASH
	ON MUSIC_HASH (
		HCODE ASC
	);

ALTER TABLE MUSIC_HASH
	ADD
		CONSTRAINT PK_MUSIC_HASH
		PRIMARY KEY (
			HCODE
		);

ALTER TABLE TABLE
	ADD
		CONSTRAINT FK_Temporary_TO_TABLE
		FOREIGN KEY (
			COL
		)
		REFERENCES Temporary (
			COL8
		);

ALTER TABLE TABLE
	ADD
		CONSTRAINT FK_Temporary7_TO_TABLE
		FOREIGN KEY (
			COL3
		)
		REFERENCES Temporary7 (
			COL
		);

ALTER TABLE Temporary
	ADD
		CONSTRAINT FK_Temporary6_TO_Temporary
		FOREIGN KEY (
			COL4
		)
		REFERENCES Temporary6 (
			COL
		);

ALTER TABLE Temporary3
	ADD
		CONSTRAINT FK_Temporary_TO_Temporary3
		FOREIGN KEY (
			COL8
		)
		REFERENCES Temporary (
			COL8
		);

ALTER TABLE Temporary7
	ADD
		CONSTRAINT FK_Temporary8_TO_Temporary7
		FOREIGN KEY (
			COL3
		)
		REFERENCES Temporary8 (
			COL
		);

ALTER TABLE BLOCK
	ADD
		CONSTRAINT FK_USER_TO_BLOCK
		FOREIGN KEY (
			UCODE
		)
		REFERENCES USER (
			UCODE
		);

ALTER TABLE MUSIC
	ADD
		CONSTRAINT FK_USER_TO_MUSIC
		FOREIGN KEY (
			UCODE
		)
		REFERENCES USER (
			UCODE
		);

ALTER TABLE BLOCK_HASH
	ADD
		CONSTRAINT FK_BLOCK_TO_BLOCK_HASH
		FOREIGN KEY (
			BCODE
		)
		REFERENCES BLOCK (
			BCODE
		);

ALTER TABLE MUSIC_HASH
	ADD
		CONSTRAINT FK_MUSIC_TO_MUSIC_HASH
		FOREIGN KEY (
			MCODE
		)
		REFERENCES MUSIC (
			MCODE
		);